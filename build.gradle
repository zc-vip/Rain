group 'cn.com.adtec'
version '1.0-SNAPSHOT'

apply plugin: 'idea'
apply plugin: 'scala'
apply plugin: 'java'
sourceCompatibility = 1.7

//task "createDirs" << {
//    sourceSets*.scala.srcDirs*.each { it.mkdirs() }
//    sourceSets*.resources.srcDirs*.each { it.mkdirs() }
//}

repositories {
    mavenLocal()
    maven {
        url 'http://maven.aliyun.com/nexus/content/groups/public/'
    }
    mavenCentral()
}



dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile "org.scala-lang:scala-library:2.10.5"
    compile "org.scala-lang:scala-compiler:2.10.5"
    compile "org.scala-lang:scala-reflect:2.10.5"
    compile group: 'org.apache.spark', name: 'spark-core_2.10', version: '1.4.1'
}

//这里是关键（把java与scala的源代码目录全映射到scala上,
// 这样gradle compile Scala时就能同时编译java与scala的源代码）
//sourceSets {
//    main {
//        scala {
//            srcDirs = ['src/main/scala', 'src/main/java']
//        }
//        java {
//            srcDirs = []
//        }
//    }
//
//    test {
//        scala {
//            srcDirs = ['src/test/scala', 'src/test/java']
//        }
//        java {
//            srcDirs = []
//        }
//    }
//}